- name: Enable third party repos
  dnf:
    name: 
      - fedora-workstation-repositories

- name: Enable flathub
  command: flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo

- name: Enable neovim-nightly COPR repo
  community.general.copr:
    name: agriffis/neovim-nightly

- name: Install dnf plugins core
  dnf:
    name: dnf-plugins-core

- name: Add brave repo to config manager
  command: 
    cmd: dnf config-manager --add-repo https://brave-browser-rpm-release.s3.brave.com/x86_64/
    warn: false
  args:
    creates: /etc/yum.repos.d/brave-browser-rpm-release.s3.brave.com_x86_64_.repo

- name: Import brave repo key
  rpm_key:
    state: present
    key: https://brave-browser-rpm-release.s3.brave.com/brave-core.asc

- name: Install dnf packages
  dnf:
    name: "{{ item }}"
    state: present
  loop: "{{ packages }}"
